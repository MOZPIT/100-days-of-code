<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>Day 4 of 100 days of code challenge</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Day 4 of 100 Days of Code</h1>
        <br/>
        <p><strong>Description:</strong> WHAC-A-MOLE <br/></p>
        <h2>Your score:</h2>
        <h2 id="score">0</h2>

        <h2>Time Left:</h2>
        <h2 id="time-left">60</h2>


        <div class="grid">
            <div class="square" id="1"></div>
            <div class="square" id="2"></div>
            <div class="square" id="3"></div>
            <div class="square" id="4"></div>
            <div class="square mole" id="5"></div>
            <div class="square" id="6"></div>
            <div class="square" id="7"></div>
            <div class="square" id="8"></div>
            <div class="square" id="8"></div>
        </div>

        <p><strong>JS Code:</strong></p>
         <pre>
            <code>
               /*jslint devel: true */

               const squares = document.querySelectorAll('.square')
               const mole = document.querySelector('.mole')
               const timeLeft = document.querySelector('#time-left')
               const score = document.querySelector('#score')

               //global variables
               let result = 0
               let hitPosition
               let currentTime = 30
               let timerId = setInterval(randomSquare, 1000)

               function randomSquare(){
                   squares.forEach(square => {
                       square.classList.remove('mole')
                   })

                   let randomSquare = squares[Math.floor(Math.random() * 9)]
                   randomSquare.classList.add('mole')

                   hitPosition = randomSquare.id
               }

               squares.forEach(square => {
                   square.addEventListener('mousedown', () => {
                       if(square.id == hitPosition){
                           result++
                           score.textContent = result
                           hitPosition = null
                       }
                   })
               })

               function moveMole(){
                   let timerId = null
               }

               moveMole()

               function countDown(){
                   currentTime--
                   timeLeft.textContent = currentTime

                   if(currentTime == 0){
                       clearInterval(countDownTimerId)
                       clearInterval(timerId)
                       alert('GAME OVER! Your final score is ' + result)
                   }
               }

               let countDownTimerId = setInterval(countDown, 750)
          </code>
         </pre>

        <script src="code.js"></script>
    </body>
</html>
